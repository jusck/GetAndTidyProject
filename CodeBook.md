---
title: "CodeBook.md"
author: "Justin Bevan"
date: "March 7, 2015"
output: html_document
---

This code book describes the variables, the data, and any transformations or work that was performed to clean up the data used in the Project for the Getting and Cleaning Data element of the John Hopkins Data Science course on Coursera.

Source for the data:

        https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip

Date of Extract of the data:

        March 17, 2015

Code to Clean the Data:

        run_analysis.R 

Steps in cleaning the data:

        Objectives:

                i) Merges the training and the test sets to create one data set.
                ii) Extracts only the measurements on the mean and standard deviation for each measurement. 
                iii) Uses descriptive activity names to name the activities in the data set
                iv) Appropriately labels the data set with descriptive variable names. 
                v) From the data set in step 4, creates a second, independent tidy data set with the 
                        average of each variable for each activity and each subject.

        Steps:
                For i-iv above:
                1) The various files supplied are read into Data Frames 
                2) Libraries 'dplyr' and 'tidyr' are loaded
                3) The data are loaded into tables, add a poptype variable containing 'test' or 'train', 
                        and we rename the variables appropriately (subject, poptype and activitycode).
                4) We subset the mean and std variables only and convert activity codes into descriptions.
                5) The individual sets are bound together (rowbind for test and train and colbind for subject, features
                        and activity codes)
                6) The 'activitycode's are converted to descriptions
                7) The 'activitycode' is dropped
                8) 'result' contains the cleaned data.
                
                For v above:
                9) Next a summary is produced from the 'result' dataset called 'analysis' 
        

Variables in the Cleaned Data Set:

        A new dataset named 'result' is produced following the transformation.

        the variables are:

                subject (factor) containing the subject number from 1 to 30
                poptype (factor) containing the population type of 'test' or 'train'
                then the various measurements for mean and standard deviations (see below)
                activity a textual item (factor) containing:   
                        'LAYING' 'SITTING' 'STANDING' 'WALKING' 'WALKING_DOWNSTAIRS' 'WALKING_UPSTAIRS'

        See a structure for the result:

        > str(result)
        'data.frame':        10299 obs. of  82 variables:
         $ subject                     : int  1 1 1 1 1 1 1 1 1 1 ...
         $ poptype                     : chr  "train" "train" "train" "train" ...
         $ tBodyAccmeanX               : num  0.289 0.278 0.28 0.279 0.277 ...
         $ tBodyAccmeanY               : num  -0.0203 -0.0164 -0.0195 -0.0262 -0.0166 ...
         $ tBodyAccmeanZ               : num  -0.133 -0.124 -0.113 -0.123 -0.115 ...
         $ tBodyAccstdX                : num  -0.995 -0.998 -0.995 -0.996 -0.998 ...
         $ tBodyAccstdY                : num  -0.983 -0.975 -0.967 -0.983 -0.981 ...
         $ tBodyAccstdZ                : num  -0.914 -0.96 -0.979 -0.991 -0.99 ...
         $ tGravityAccmeanX            : num  0.963 0.967 0.967 0.968 0.968 ...
         $ tGravityAccmeanY            : num  -0.141 -0.142 -0.142 -0.144 -0.149 ...
         $ tGravityAccmeanZ            : num  0.1154 0.1094 0.1019 0.0999 0.0945 ...
         $ tGravityAccstdX             : num  -0.985 -0.997 -1 -0.997 -0.998 ...
         $ tGravityAccstdY             : num  -0.982 -0.989 -0.993 -0.981 -0.988 ...
         $ tGravityAccstdZ             : num  -0.878 -0.932 -0.993 -0.978 -0.979 ...
         $ tBodyAccJerkmeanX           : num  0.078 0.074 0.0736 0.0773 0.0734 ...
         $ tBodyAccJerkmeanY           : num  0.005 0.00577 0.0031 0.02006 0.01912 ...
         $ tBodyAccJerkmeanZ           : num  -0.06783 0.02938 -0.00905 -0.00986 0.01678 ...
         $ tBodyAccJerkstdX            : num  -0.994 -0.996 -0.991 -0.993 -0.996 ...
         $ tBodyAccJerkstdY            : num  -0.988 -0.981 -0.981 -0.988 -0.988 ...
         $ tBodyAccJerkstdZ            : num  -0.994 -0.992 -0.99 -0.993 -0.992 ...
         $ tBodyGyromeanX              : num  -0.0061 -0.0161 -0.0317 -0.0434 -0.034 ...
         $ tBodyGyromeanY              : num  -0.0314 -0.0839 -0.1023 -0.0914 -0.0747 ...
         $ tBodyGyromeanZ              : num  0.1077 0.1006 0.0961 0.0855 0.0774 ...
         $ tBodyGyrostdX               : num  -0.985 -0.983 -0.976 -0.991 -0.985 ...
         $ tBodyGyrostdY               : num  -0.977 -0.989 -0.994 -0.992 -0.992 ...
         $ tBodyGyrostdZ               : num  -0.992 -0.989 -0.986 -0.988 -0.987 ...
         $ tBodyGyroJerkmeanX          : num  -0.0992 -0.1105 -0.1085 -0.0912 -0.0908 ...
         $ tBodyGyroJerkmeanY          : num  -0.0555 -0.0448 -0.0424 -0.0363 -0.0376 ...
         $ tBodyGyroJerkmeanZ          : num  -0.062 -0.0592 -0.0558 -0.0605 -0.0583 ...
         $ tBodyGyroJerkstdX           : num  -0.992 -0.99 -0.988 -0.991 -0.991 ...
         $ tBodyGyroJerkstdY           : num  -0.993 -0.997 -0.996 -0.997 -0.996 ...
         $ tBodyGyroJerkstdZ           : num  -0.992 -0.994 -0.992 -0.993 -0.995 ...
         $ tBodyAccMagmean             : num  -0.959 -0.979 -0.984 -0.987 -0.993 ...
         $ tBodyAccMagstd              : num  -0.951 -0.976 -0.988 -0.986 -0.991 ...
         $ tGravityAccMagmean          : num  -0.959 -0.979 -0.984 -0.987 -0.993 ...
         $ tGravityAccMagstd           : num  -0.951 -0.976 -0.988 -0.986 -0.991 ...
         $ tBodyAccJerkMagmean         : num  -0.993 -0.991 -0.989 -0.993 -0.993 ...
         $ tBodyAccJerkMagstd          : num  -0.994 -0.992 -0.99 -0.993 -0.996 ...
         $ tBodyGyroMagmean            : num  -0.969 -0.981 -0.976 -0.982 -0.985 ...
         $ tBodyGyroMagstd             : num  -0.964 -0.984 -0.986 -0.987 -0.989 ...
         $ tBodyGyroJerkMagmean        : num  -0.994 -0.995 -0.993 -0.996 -0.996 ...
         $ tBodyGyroJerkMagstd         : num  -0.991 -0.996 -0.995 -0.995 -0.995 ...
         $ fBodyAccmeanX               : num  -0.995 -0.997 -0.994 -0.995 -0.997 ...
         $ fBodyAccmeanY               : num  -0.983 -0.977 -0.973 -0.984 -0.982 ...
         $ fBodyAccmeanZ               : num  -0.939 -0.974 -0.983 -0.991 -0.988 ...
         $ fBodyAccstdX                : num  -0.995 -0.999 -0.996 -0.996 -0.999 ...
         $ fBodyAccstdY                : num  -0.983 -0.975 -0.966 -0.983 -0.98 ...
         $ fBodyAccstdZ                : num  -0.906 -0.955 -0.977 -0.99 -0.992 ...
         $ fBodyAccmeanFreqX           : num  0.252 0.271 0.125 0.029 0.181 ...
         $ fBodyAccmeanFreqY           : num  0.1318 0.0429 -0.0646 0.0803 0.058 ...
         $ fBodyAccmeanFreqZ           : num  -0.0521 -0.0143 0.0827 0.1857 0.5598 ...
         $ fBodyAccJerkmeanX           : num  -0.992 -0.995 -0.991 -0.994 -0.996 ...
         $ fBodyAccJerkmeanY           : num  -0.987 -0.981 -0.982 -0.989 -0.989 ...
         $ fBodyAccJerkmeanZ           : num  -0.99 -0.99 -0.988 -0.991 -0.991 ...
         $ fBodyAccJerkstdX            : num  -0.996 -0.997 -0.991 -0.991 -0.997 ...
         $ fBodyAccJerkstdY            : num  -0.991 -0.982 -0.981 -0.987 -0.989 ...
         $ fBodyAccJerkstdZ            : num  -0.997 -0.993 -0.99 -0.994 -0.993 ...
         $ fBodyAccJerkmeanFreqX       : num  0.8704 0.6085 0.1154 0.0358 0.2734 ...
         $ fBodyAccJerkmeanFreqY       : num  0.2107 -0.0537 -0.1934 -0.093 0.0791 ...
         $ fBodyAccJerkmeanFreqZ       : num  0.2637 0.0631 0.0383 0.1681 0.2924 ...
         $ fBodyGyromeanX              : num  -0.987 -0.977 -0.975 -0.987 -0.982 ...
         $ fBodyGyromeanY              : num  -0.982 -0.993 -0.994 -0.994 -0.993 ...
         $ fBodyGyromeanZ              : num  -0.99 -0.99 -0.987 -0.987 -0.989 ...
         $ fBodyGyrostdX               : num  -0.985 -0.985 -0.977 -0.993 -0.986 ...
         $ fBodyGyrostdY               : num  -0.974 -0.987 -0.993 -0.992 -0.992 ...
         $ fBodyGyrostdZ               : num  -0.994 -0.99 -0.987 -0.989 -0.988 ...
         $ fBodyGyromeanFreqX          : num  -0.2575 -0.0482 -0.2167 0.2169 -0.1533 ...
         $ fBodyGyromeanFreqY          : num  0.0979 -0.4016 -0.0173 -0.1352 -0.0884 ...
         $ fBodyGyromeanFreqZ          : num  0.5472 -0.0682 -0.1107 -0.0497 -0.1622 ...
         $ fBodyAccMagmean             : num  -0.952 -0.981 -0.988 -0.988 -0.994 ...
         $ fBodyAccMagstd              : num  -0.956 -0.976 -0.989 -0.987 -0.99 ...
         $ fBodyAccMagmeanFreq         : num  -0.0884 -0.0441 0.2579 0.0736 0.3943 ...
         $ fBodyBodyAccJerkMagmean     : num  -0.994 -0.99 -0.989 -0.993 -0.996 ...
         $ fBodyBodyAccJerkMagstd      : num  -0.994 -0.992 -0.991 -0.992 -0.994 ...
         $ fBodyBodyAccJerkMagmeanFreq : num  0.347 0.532 0.661 0.679 0.559 ...
         $ fBodyBodyGyroMagmean        : num  -0.98 -0.988 -0.989 -0.989 -0.991 ...
         $ fBodyBodyGyroMagstd         : num  -0.961 -0.983 -0.986 -0.988 -0.989 ...
         $ fBodyBodyGyroMagmeanFreq    : num  -0.129 -0.272 -0.2127 -0.0357 -0.2736 ...
         $ fBodyBodyGyroJerkMagmean    : num  -0.992 -0.996 -0.995 -0.995 -0.995 ...
         $ fBodyBodyGyroJerkMagstd     : num  -0.991 -0.996 -0.995 -0.995 -0.995 ...
         $ fBodyBodyGyroJerkMagmeanFreq: num  -0.0743 0.1581 0.4145 0.4046 0.0878 ...
         $ activity                    : Factor w/ 6 levels "LAYING","SITTING",..: 3 3 3 3 3 3 3 3 3 3 ...
 
Analysis Data Set:

        analysis contains the result of the analysis required (in (v) above)
        
        This contains the activity and subject as above and each feature variable summarised as a set of means.

        > str(analysis)
        Classes ‘grouped_df’, ‘tbl_df’, ‘tbl’ and 'data.frame':        180 obs. of  81 variables:
         $ activity                    : Factor w/ 6 levels "LAYING","SITTING",..: 1 1 1 1 1 1 1 1 1 1 ...
         $ subject                     : int  1 2 3 4 5 6 7 8 9 10 ...
         $ tBodyAccmeanX               : num  0.222 0.281 0.276 0.264 0.278 ...
         $ tBodyAccmeanY               : num  -0.0405 -0.0182 -0.019 -0.015 -0.0183 ...
         $ tBodyAccmeanZ               : num  -0.113 -0.107 -0.101 -0.111 -0.108 ...
         $ tBodyAccstdX                : num  -0.928 -0.974 -0.983 -0.954 -0.966 ...
         $ tBodyAccstdY                : num  -0.837 -0.98 -0.962 -0.942 -0.969 ...
         $ tBodyAccstdZ                : num  -0.826 -0.984 -0.964 -0.963 -0.969 ...
         $ tGravityAccmeanX            : num  -0.249 -0.51 -0.242 -0.421 -0.483 ...
         $ tGravityAccmeanY            : num  0.706 0.753 0.837 0.915 0.955 ...
         $ tGravityAccmeanZ            : num  0.446 0.647 0.489 0.342 0.264 ...
         $ tGravityAccstdX             : num  -0.897 -0.959 -0.983 -0.921 -0.946 ...
         $ tGravityAccstdY             : num  -0.908 -0.988 -0.981 -0.97 -0.986 ...
         $ tGravityAccstdZ             : num  -0.852 -0.984 -0.965 -0.976 -0.977 ...
         $ tBodyAccJerkmeanX           : num  0.0811 0.0826 0.077 0.0934 0.0848 ...
         $ tBodyAccJerkmeanY           : num  0.00384 0.01225 0.0138 0.00693 0.00747 ...
         $ tBodyAccJerkmeanZ           : num  0.01083 -0.0018 -0.00436 -0.00641 -0.00304 ...
         $ tBodyAccJerkstdX            : num  -0.958 -0.986 -0.981 -0.978 -0.983 ...
         $ tBodyAccJerkstdY            : num  -0.924 -0.983 -0.969 -0.942 -0.965 ...
         $ tBodyAccJerkstdZ            : num  -0.955 -0.988 -0.982 -0.979 -0.985 ...
         $ tBodyGyromeanX              : num  -0.01655 -0.01848 -0.02082 -0.00923 -0.02189 ...
         $ tBodyGyromeanY              : num  -0.0645 -0.1118 -0.0719 -0.093 -0.0799 ...
         $ tBodyGyromeanZ              : num  0.149 0.145 0.138 0.17 0.16 ...
         $ tBodyGyrostdX               : num  -0.874 -0.988 -0.975 -0.973 -0.979 ...
         $ tBodyGyrostdY               : num  -0.951 -0.982 -0.977 -0.961 -0.977 ...
         $ tBodyGyrostdZ               : num  -0.908 -0.96 -0.964 -0.962 -0.961 ...
         $ tBodyGyroJerkmeanX          : num  -0.107 -0.102 -0.1 -0.105 -0.102 ...
         $ tBodyGyroJerkmeanY          : num  -0.0415 -0.0359 -0.039 -0.0381 -0.0404 ...
         $ tBodyGyroJerkmeanZ          : num  -0.0741 -0.0702 -0.0687 -0.0712 -0.0708 ...
         $ tBodyGyroJerkstdX           : num  -0.919 -0.993 -0.98 -0.975 -0.983 ...
         $ tBodyGyroJerkstdY           : num  -0.968 -0.99 -0.987 -0.987 -0.984 ...
         $ tBodyGyroJerkstdZ           : num  -0.958 -0.988 -0.983 -0.984 -0.99 ...
         $ tBodyAccMagmean             : num  -0.842 -0.977 -0.973 -0.955 -0.967 ...
         $ tBodyAccMagstd              : num  -0.795 -0.973 -0.964 -0.931 -0.959 ...
         $ tGravityAccMagmean          : num  -0.842 -0.977 -0.973 -0.955 -0.967 ...
         $ tGravityAccMagstd           : num  -0.795 -0.973 -0.964 -0.931 -0.959 ...
         $ tBodyAccJerkMagmean         : num  -0.954 -0.988 -0.979 -0.97 -0.98 ...
         $ tBodyAccJerkMagstd          : num  -0.928 -0.986 -0.976 -0.961 -0.977 ...
         $ tBodyGyroMagmean            : num  -0.875 -0.95 -0.952 -0.93 -0.947 ...
         $ tBodyGyroMagstd             : num  -0.819 -0.961 -0.954 -0.947 -0.958 ...
         $ tBodyGyroJerkMagmean        : num  -0.963 -0.992 -0.987 -0.985 -0.986 ...
         $ tBodyGyroJerkMagstd         : num  -0.936 -0.99 -0.983 -0.983 -0.984 ...
         $ fBodyAccmeanX               : num  -0.939 -0.977 -0.981 -0.959 -0.969 ...
         $ fBodyAccmeanY               : num  -0.867 -0.98 -0.961 -0.939 -0.965 ...
         $ fBodyAccmeanZ               : num  -0.883 -0.984 -0.968 -0.968 -0.977 ...
         $ fBodyAccstdX                : num  -0.924 -0.973 -0.984 -0.952 -0.965 ...
         $ fBodyAccstdY                : num  -0.834 -0.981 -0.964 -0.946 -0.973 ...
         $ fBodyAccstdZ                : num  -0.813 -0.985 -0.963 -0.962 -0.966 ...
         $ fBodyAccmeanFreqX           : num  -0.159 -0.146 -0.074 -0.274 -0.136 ...
         $ fBodyAccmeanFreqY           : num  0.0975 0.2573 0.2385 0.3662 0.4665 ...
         $ fBodyAccmeanFreqZ           : num  0.0894 0.4025 0.217 0.2013 0.1323 ...
         $ fBodyAccJerkmeanX           : num  -0.957 -0.986 -0.981 -0.979 -0.983 ...
         $ fBodyAccJerkmeanY           : num  -0.922 -0.983 -0.969 -0.944 -0.965 ...
         $ fBodyAccJerkmeanZ           : num  -0.948 -0.986 -0.979 -0.975 -0.983 ...
         $ fBodyAccJerkstdX            : num  -0.964 -0.987 -0.983 -0.98 -0.986 ...
         $ fBodyAccJerkstdY            : num  -0.932 -0.985 -0.971 -0.944 -0.966 ...
         $ fBodyAccJerkstdZ            : num  -0.961 -0.989 -0.984 -0.98 -0.986 ...
         $ fBodyAccJerkmeanFreqX       : num  0.132 0.16 0.176 0.182 0.24 ...
         $ fBodyAccJerkmeanFreqY       : num  0.0245 0.1212 -0.0132 0.0987 0.1957 ...
         $ fBodyAccJerkmeanFreqZ       : num  0.0244 0.1906 0.0448 0.077 0.0917 ...
         $ fBodyGyromeanX              : num  -0.85 -0.986 -0.97 -0.967 -0.976 ...
         $ fBodyGyromeanY              : num  -0.952 -0.983 -0.978 -0.972 -0.978 ...
         $ fBodyGyromeanZ              : num  -0.909 -0.963 -0.962 -0.961 -0.963 ...
         $ fBodyGyrostdX               : num  -0.882 -0.989 -0.976 -0.975 -0.981 ...
         $ fBodyGyrostdY               : num  -0.951 -0.982 -0.977 -0.956 -0.977 ...
         $ fBodyGyrostdZ               : num  -0.917 -0.963 -0.967 -0.966 -0.963 ...
         $ fBodyGyromeanFreqX          : num  -0.00355 0.10261 -0.08222 -0.06609 -0.02272 ...
         $ fBodyGyromeanFreqY          : num  -0.0915 0.0423 -0.0267 -0.5269 0.0681 ...
         $ fBodyGyromeanFreqZ          : num  0.0105 0.0553 0.1477 0.1529 0.0414 ...
         $ fBodyAccMagmean             : num  -0.862 -0.975 -0.966 -0.939 -0.962 ...
         $ fBodyAccMagstd              : num  -0.798 -0.975 -0.968 -0.937 -0.963 ...
         $ fBodyAccMagmeanFreq         : num  0.0864 0.2663 0.237 0.2417 0.292 ...
         $ fBodyBodyAccJerkMagmean     : num  -0.933 -0.985 -0.976 -0.962 -0.977 ...
         $ fBodyBodyAccJerkMagstd      : num  -0.922 -0.985 -0.975 -0.958 -0.976 ...
         $ fBodyBodyAccJerkMagmeanFreq : num  0.266 0.342 0.239 0.274 0.197 ...
         $ fBodyBodyGyroMagmean        : num  -0.862 -0.972 -0.965 -0.962 -0.968 ...
         $ fBodyBodyGyroMagstd         : num  -0.824 -0.961 -0.955 -0.947 -0.959 ...
         $ fBodyBodyGyroMagmeanFreq    : num  -0.1398 0.0186 -0.0229 -0.2599 0.1024 ...
         $ fBodyBodyGyroJerkMagmean    : num  -0.942 -0.99 -0.984 -0.984 -0.985 ...
         $ fBodyBodyGyroJerkMagstd     : num  -0.933 -0.989 -0.983 -0.983 -0.983 ...
         $ fBodyBodyGyroJerkMagmeanFreq: num  0.1765 0.2648 0.1107 0.2029 0.0247 ...